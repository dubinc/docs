---
title: Google Tag Manager
description: How to add @dub/analytics to your Google Tag Manager site
---

import DubAnalyticsParams from "/snippets/dub-analytics-params.mdx";
import DubClientInstallVerify from "/snippets/dub-client-install-verify.mdx";
import ClientSideClickTrackingAddendum from "/snippets/client-side-click-tracking-addendum.mdx";

You can use Google Tag Manager to add Dub Analytics to your site.

In your Google Tag Manager account, add a new tag.

Choose **Custom HTML** for the tag type.

<img
  src="/images/google-tag-manager/gtm-add-custom-html.png"
  alt="Add custom HTML tag in Google Tag Manager"
/>

Paste your Dub Analytics snippet in the **HTML** field within the **Custom HTML** section.

```js
<script>
  var script = document.createElement("script");
  script.defer = true;
  script.src = "https://www.dubcdn.com/analytics/script.js";
  script.dataset.domains = JSON.stringify({ refer: "refer.dub.co" });
  document.getElementsByTagName("head")[0].appendChild(script);
</script>
```

Copy the snippet above and paste it into the **HTML** field.

<img
  src="/images/google-tag-manager/gtm-add-dub-script.png"
  alt="Add dub analytics script"
/>

If you're using [Dub Partners](/partners/quickstart) for affiliate management, you will also need to set up the `data-domains` property to enable [client-side click-tracking](/sdks/client-side/features/client-side-click-tracking).

Add a trigger to make this tag fire on all pages.

<img
  src="/images/google-tag-manager/gtm-add-trigger.png"
  alt="Add trigger to make this tag fire on all pages"
/>


Read the [client-side click-tracking guide](/sdks/client-side/features/client-side-click-tracking) for more information.

<DubClientInstallVerify />

<DubAnalyticsParams />
